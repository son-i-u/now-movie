<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soniu.mapper.MovieMapper">

	<!-- 무비 선택을 위해 영화 100개 무작위 선택 -->
	<select id="getList" resultType="com.soniu.domain.movie_VO"> <![CDATA[select 
		* from ( select * from movie order by dbms_random.value) where rownum <= 
		100]]>
	</select>


	<select id="read" resultType="com.soniu.domain.movie_VO">
		select * from movie where movie_id
		= #{movie_id}
	</select>
	
	<select id="getMovieNotSee" resultType="com.soniu.domain.movie_VO">
	<![CDATA[select * from movie where movie_id in
	 (select movie_id from user_prefer where user_id=#{user_id} and score < 0)
]]>
	</select>



</mapper>