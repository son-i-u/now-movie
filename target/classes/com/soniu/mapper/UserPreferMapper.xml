<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.soniu.mapper.UserPreferMapper">
	<select id="getUserPrefer" resultType="com.soniu.domain.userPreferMovie_VO">
		<!-- select * from user_prefer where user_id = #{user_id} -->
		select * from user_prefer, movie 
		where user_prefer.movie_id = movie.movie_id
		and user_id = #{user_id}
	</select>

	<insert id="insert">
		insert into user_prefer values (#{user_id},#{movie_id},#{score})
	</insert>

	<!-- 아직 평가 하지 않은 영화들 -->
	<select id="getNotSeeList" resultType="com.soniu.domain.userPrefer_VO">
	 <![CDATA[select * from user_prefer where user_id=#{user_id} and score < 0 ]]>
	</select>
	
	
		
</mapper>